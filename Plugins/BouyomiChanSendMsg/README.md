# BouyomiSocketPlugin
BouyomiSocketPlugin (BSP) , UE4 plugin . For BouyomiChan.  

UnrealEngine4のBluePrintから棒読みちゃんにソケット通信経由でメッセージ及びコマンドを送信するBPを提供するプラグインです。  

なお、本プラグインは開発者が2日ほど遊びで作ったお試しプラグインの為、特にメンテナンスはしない予定です。  

当初の想定としては、UMGのテキストと連携しテキストを外部ツールに転送しリアルタイムで読み上げる為のプラグイン。  
別の可能性としては、マルチプレイゲームのチャットシステムに組み込む。  
エンドユーザが棒読みちゃんを事前に起動しゲーム内のチャット(受信データ)を本プラグインのBPを使いソケット通信で送信。  
バックグラウンドでテキストメッセージを音声データへ変換し流す為のサポートプラグインとして考えていました。  
また、他にも、UE4の解説動作作成の支援向けにUMGのテキストと連携するなどなど。  
ボイロ系とも棒読みちゃんを経由して連携できますが、現時点ではラグが2秒ほどあるのでゲーム中に喋らせるのは少し難しい模様。  

※棒読みちゃんに関しては以下を参照。  
(C)みちあき  
http://chi.usamimi.info/Program/Application/BouyomiChan/

# 制限

UE4 4.15.0 にて動作確認済。

ソケット通信に関しては送信のみサポート。  
受信については面倒なためサポート外。  
個人的な興味本地で作った遊びプラグインなのでもしバグっても勘弁してください。  
煮るなり焼くなり好きにコードを使ってください。  


# 使い方

「Plugins」を配置したいPJへコピーする。  

プラグインをビルドし、起動したエディタでプラグインが有効であることを確認する。  
プラグインが有効であれば、BP画面で本プラグインが提供するBP名を入力し選択、配置する。  
BPに関しては、付属の[Plugins\BouyomiChanSendMsg\BouyomiChanAPI_BP_Ref.jpg]を参照。  

アドレスとポート番号は棒読みちゃん側の設定にしたがって適宜変更。  
SendMsgのBPのみ、音量や速度、声質、音量を設定できる。  
設定範囲については棒読みちゃんに付属のコマンドリファレンスもしくはソケット通信のサンプルコマンドを参照。  


# ライセンス

MITライセンスに従います。  
Copyright (c) 2015-2017 BlackMa9  


# リリースノート

## Ver.0.1.0 15/06/14

- UE4.7.6およびUE4.8対応を確認。 
- ローカルでのバグをFix：Shippingでのパッケージビルドのエラーを解消出来たため公開。   
- 制限として、棒読みちゃんへの状態取得系コマンドは受信処理が必要であり、未実装のためサポート外。  
　→必要に応じて送受信スレッドやBluePrintのEventを実装する必要があると思われる。


## Ver.0.2.0 17/02/28

- UE4.14.*およびUE4.15.0対応を確認。 
- お試し機能として、コマンド応答BP「GetNowPlaying」を追加。  
  →ただし、受信関数内部で送信先から応答が来ない場合フリーズするので、致命的バグあり。  
   本来は別スレッドかイベントディスパッチャーとかで分離すべきだけど面倒なのでやってません。  
   理論上、このコマンドで受信できることを確認。  

